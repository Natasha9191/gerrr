(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1863],{57270:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/upload",function(){return n(76248)}])},58178:function(e,t,n){"use strict";var r=n(26042),i=n(69396),l=n(85893),o=n(94184),s=n.n(o),a=n(15482),c=n(55791),d=n(47892),u=n(53387),h=n(67294),g=n(55162);t.Z=function(e){var t=e.children,n=e.onDrop,o=(0,h.useState)(!1),f=o[0],m=o[1],v=(0,c.Z)().isMd,p=(0,d.Z)("home").t,x=(0,h.useCallback)((function(e){null===n||void 0===n||n(u.YMb(e)),m(!1)}),[n]);return(0,h.useEffect)((function(){var e=function(e){var t=e.clipboardData.items,r=[].slice.call(t).filter((function(e){return-1!==e.type.indexOf("image")}));if(0!==r.length){var i=r[0].getAsFile();null===n||void 0===n||n(i),m(!1)}};return document.addEventListener("paste",e),function(){document.removeEventListener("paste",e)}}),[n]),(0,l.jsx)(g.ZP,{disabled:!v,noClick:!0,multiple:!1,accept:a.Gs,onDrop:x,onDragEnter:function(){return m(!0)},onDragLeave:function(){return m(!1)},children:function(e){var n=e.getRootProps,o=e.getInputProps;return(0,l.jsxs)("div",(0,i.Z)((0,r.Z)({},n()),{children:[(0,l.jsx)("div",{className:s()("fixed inset-0 z-50 bg-black bg-opacity-40 transition","flex justify-center items-center",f?"visible opacity-100":"invisible opacity-0"),children:(0,l.jsx)("p",{className:"text-3xl text-white font-medium",children:p("landing.dropzone")})}),(0,l.jsx)("input",(0,i.Z)((0,r.Z)({},o()),{hidden:!0})),t]}))}})}},56734:function(e,t,n){"use strict";n.d(t,{Pl:function(){return r},bW:function(){return l},xA:function(){return i}});var r={TRANSPARENT_IMAGE:"TRANSPARENT_IMAGE",MAIN_IMAGE:"MAIN_IMAGE",BACKGROUND:"BACKGROUND"},i={IMAGE:"IMAGE",RECT:"RECT"},l={BACKGROUND:"BACKGROUND",TRANSFORM:"TRANSFORM"}},55791:function(e,t,n){"use strict";var r=n(1852),i="640px",l="768px",o="1024px",s="1280px",a="1536px",c=!1;t.Z=function(){var e=(0,r.useMediaQuery)({query:"(min-width: ".concat(a,")")}),t=(0,r.useMediaQuery)({query:"(min-width: ".concat(s,")")}),n=(0,r.useMediaQuery)({query:"(min-width: ".concat(o,")")}),d=(0,r.useMediaQuery)({query:"(min-width: ".concat(l,")")}),u=(0,r.useMediaQuery)({query:"(max-width: ".concat(i,")")});return{is2Xl:e||c,isXl:t||c,isLg:n||c,isMd:d||c,isSm:u}}},76248:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return se},default:function(){return ae}});var r=n(85893),i=n(58178),l=n(33341),o=n(52711),s=n(94184),a=n.n(s),c=n(15482),d=n(81041),u=n(92412),h=n(10908),g=n(18552),f=n(47892),m=n(11163),v=n(67294),p=n(46616),x=n(16573),b=n(43107),w=n(44188),j=n(47568),C=n(14924),k=n(26042),N=n(69396),y=n(20414),_=function(e){var t=e.className;return(0,r.jsx)("div",{className:a()("inline-block",t),children:(0,r.jsxs)("svg",{className:"w-full h-full",width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M12.5561 8.11084L9.00009 11.6668L5.44409 8.11084",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M9 1V11.67",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M17 13.4438C17 14.387 16.6254 15.2914 15.9585 15.9583C15.2916 16.6252 14.3871 16.9998 13.444 16.9998H4.556C3.61289 16.9998 2.70841 16.6252 2.04153 15.9583C1.37465 15.2914 1 14.387 1 13.4438",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})})},Z=function(e){var t=e.className;return(0,r.jsx)("div",{className:a()("inline-block",t),children:(0,r.jsxs)("svg",{width:"21",height:"20",viewBox:"0 0 21 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M8 2.5H3C1.89543 2.5 1 3.39543 1 4.5V15.5C1 16.6046 1.89543 17.5 3 17.5H8",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M1 5.5C1 3.84315 2.34315 2.5 4 2.5H4.5003V5.669H1V5.5Z",fill:"currentColor"}),(0,r.jsx)("rect",{x:"4.49976",y:"5.66858",width:"3.5003",height:"2.88824",fill:"currentColor"}),(0,r.jsx)("rect",{x:"1",y:"8.55823",width:"3.5003",height:"2.88824",fill:"currentColor"}),(0,r.jsx)("rect",{x:"4.49976",y:"11.444",width:"3.5003",height:"2.88824",fill:"currentColor"}),(0,r.jsx)("path",{d:"M1 14.3309H4.5003V17.4999H4C2.34315 17.4999 1 16.1568 1 14.4999V14.3309Z",fill:"currentColor"}),(0,r.jsx)("rect",{x:"8",y:"1.5",width:"12",height:"17",rx:"2",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})})},E=function(e){var t=e.className;return(0,r.jsx)("div",{className:a()("inline-block",t),children:(0,r.jsxs)("svg",{className:"w-full h-full",width:"21",height:"20",viewBox:"0 0 21 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M17.5 19H3.5C2.96957 19 2.46086 18.7893 2.08579 18.4142C1.71071 18.0391 1.5 17.5304 1.5 17V3C1.5 2.46957 1.71071 1.96086 2.08579 1.58579C2.46086 1.21071 2.96957 1 3.5 1H17.5C18.0304 1 18.5391 1.21071 18.9142 1.58579C19.2893 1.96086 19.5 2.46957 19.5 3V17C19.5 17.5304 19.2893 18.0391 18.9142 18.4142C18.5391 18.7893 18.0304 19 17.5 19Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M12.621 5.879C12.9123 6.15454 13.1454 6.48569 13.3066 6.85288C13.4677 7.22006 13.5536 7.61582 13.5592 8.01677C13.5648 8.41772 13.4899 8.81572 13.339 9.18724C13.1882 9.55876 12.9643 9.89627 12.6808 10.1798C12.3973 10.4633 12.0598 10.6872 11.6882 10.838C11.3167 10.9889 10.9187 11.0638 10.5178 11.0582C10.1168 11.0526 9.72106 10.9667 9.35388 10.8056C8.98669 10.6444 8.65554 10.4113 8.38 10.12C7.85008 9.5513 7.56158 8.79911 7.5753 8.02191C7.58901 7.2447 7.90386 6.50316 8.45351 5.95351C9.00316 5.40386 9.7447 5.08901 10.5219 5.0753C11.2991 5.06158 12.0513 5.35008 12.62 5.88",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M4.5 19L4.857 17.216C5.03824 16.3092 5.52806 15.4933 6.24312 14.9069C6.95817 14.3206 7.85429 14.0001 8.779 14H12.221C13.1457 14.0001 14.0418 14.3206 14.7569 14.9069C15.4719 15.4933 15.9618 16.3092 16.143 17.216L16.5 19",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})})},R=function(e){var t=e.className;return(0,r.jsx)("div",{className:a()("inline-block",t),children:(0,r.jsxs)("svg",{className:"w-full h-full",width:"20",height:"18",viewBox:"0 0 20 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M5.52695 16.977H6.93395C7.46434 16.9769 7.97296 16.7661 8.34795 16.391L17.0719 7.66704C17.4469 7.29199 17.6575 6.78337 17.6575 6.25304C17.6575 5.72271 17.4469 5.2141 17.0719 4.83904L13.7729 1.54004C13.3979 1.1651 12.8893 0.954468 12.3589 0.954468C11.8286 0.954468 11.32 1.1651 10.9449 1.54004L1.51795 10.967C1.143 11.3421 0.932373 11.8507 0.932373 12.381C0.932373 12.9114 1.143 13.42 1.51795 13.795L4.11395 16.391C4.48795 16.766 4.99595 16.977 5.52695 16.977V16.977Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M6.08997 6.39001L12.22 12.52",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M18.9999 16.98H6.92993",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})})},P=n(31788),A=(n(68893),n(72679)),M=function(e){var t=e.alt,n=e.src,i=e.className,l=e.width,o=e.height;return(0,r.jsx)(A.LazyLoadImage,{alt:t,effect:"blur",src:n,className:i,width:l,height:o})},I=n(11261),L=n(93307),O=n(65103),B=n(91105);var G=n(91275),T=n(5152),D=n.n(T),U=n(26923),S=n(26010),K=n(93617),W=n(10932),V=n(58812);var H,z,F=function(){var e=(0,f.Z)("editor").t,t=O.Z.useContainer(),n=t.openOverlay,r=t.closeOverlay,i=(0,g.Z)(),l=(0,m.useRouter)(),o=(0,v.useCallback)((function(t){n({type:S.j.Confirmation,showBackdrop:!0,content:e("modal.reupload.content"),btnProps:{ok:{onOk:(0,j.Z)((function(){var e;return(0,y.__generator)(this,(function(n){switch(n.label){case 0:return[4,(0,G.hf)()];case 1:return e=n.sent(),r(),null===t||void 0===t||t(e),[2]}}))}))}}})}),[r,n,e]),s=(0,v.useCallback)((function(t){i.event({action:W.jW.EDITOR_CLICK_REVERT}),i.event({action:W.jW.POPUP_REVERT_LAUNCH}),n({type:S.j.Confirmation,showBackdrop:!0,title:e("modal.revert.heading"),content:e("modal.revert.content"),btnProps:{cancel:{onCancel:function(){i.event({action:W.jW.POPUP_REVERT_CLICK_CANCEL})}},ok:{onOk:(0,j.Z)((function(){return(0,y.__generator)(this,(function(e){return r(),null===t||void 0===t||t(),[2]}))}))}}})}),[r,i,n,e]),a=(0,v.useCallback)((function(t){n({type:S.j.Confirmation,showBackdrop:!0,content:e("modal.revert.content"),btnProps:{ok:{onOk:(0,j.Z)((function(){return(0,y.__generator)(this,(function(e){return r(),null===t||void 0===t||t(),[2]}))}))}}})}),[r,n,e]),c=(0,v.useCallback)((function(){n({type:S.j.Confirmation,content:e("modal.appForward.content"),showBackdrop:!0,btnProps:{cancel:{hidden:!0},ok:{title:e("modal.appForward.button.download"),onOk:function(){i.event({action:W.jW.EDITOR_CLICK_FORWARD_INSTALL_APP}),l.replace(u._.appInstall)}}}})}),[i,n,l,e]);return{isInEditor:Object.values(V.N).includes(l.pathname),onForwardAppInstall:c,onNewImage:o,onRevert:s,onConfirmGoHome:a}},Q=n(92673),Y=n(55791),X=n(55651),q=function(e){var t=e.value,n=e.className,i=e.pickerPosition,l=void 0===i?"left":i,o=e.isTransparent,s=e.isActive,c=e.isPicker,d=e.onClick,u=e.onPick,h=(0,v.useState)("#249cab"),g=h[0],f=h[1],m=((0,Y.Z)(),(0,v.useCallback)((function(e,i){return(0,r.jsx)("button",{disabled:e,onClick:i,className:a()("w-9 h-9 rounded-full border-2 cursor-pointer transition","relative after:absolute after:w-8 after:h-8","after:rounded-full after:border-white after:border-2 after:left-0 after:top-0","hover:border-blue-500 hover:after:opacity-100","shadow-[0px_2px_8px_rgba(32,52,89,0.16)]",s?"border-blue-500 after:opacity-100":"border-white after:opacity-0",o&&"color-picker-transparent",c&&"color-picker-conic-gradient",n),style:{backgroundColor:Object.values(K.QK).includes(t)?"":t}})}),[n,s,c,o,t]));return c?(0,r.jsx)(Q.Z,{className:"z-10",panelClassname:a()("translate-y-1","left"===l&&"sm+:right-0","right"===l&&"left-0"),renderButton:function(e){return(0,r.jsx)(r.Fragment,{children:m(e)})},children:(0,r.jsx)(X.gW,{color:g,onChange:function(e){u(e)(),f(e)}})}):m(!1,d)},J=n(56734),$=n(51438),ee=function(){function e(){(0,$.Z)(this,e)}var t=e.prototype;return t.createElement=function(e,t){return{type:e,props:t}},t.updateElement=function(e,t,n){return{type:e,props:(0,k.Z)({},t,n)}},e}(),te=D()((function(){return Promise.all([n.e(1486),n.e(9666)]).then(n.bind(n,89666))}),{loadableGenerated:{webpack:function(){return[89666]}},ssr:!1});!function(e){e.original="original",e.removeBG="removeBG"}(H||(H={})),function(e){e.background="background",e.color="color"}(z||(z={}));var ne=function(e){var t,n=e.image,i=e.isShow,l=e.id,o=e.config,s=new ee,u=h.Z.useContainer().samples,m=L.Z.useContainer(),p=(m.isPremium,m.openModalPremium,(0,v.useState)(H.removeBG)),x=p[0],A=p[1],T=(0,v.useState)(!0),D=T[0],W=T[1],V=(0,v.useState)(null),Q=V[0],Y=V[1],X=(h.Z.useContainer().onUpload,F().onForwardAppInstall),$=(0,v.useRef)(null),ne=(0,v.useState)(!1),re=ne[0],ie=ne[1],le=(0,v.useState)(z.background),oe=le[0],se=le[1],ae=(0,v.useState)(null),ce=ae[0],de=ae[1],ue=(0,v.useState)(null),he=ue[0],ge=ue[1],fe=(0,v.useState)(null),me=fe[0],ve=fe[1],pe=(0,v.useState)({selectedId:null,elements:{},canvasConfig:{size:null,scale:1}}),xe=pe[0],be=pe[1],we=(0,v.useState)(null),je=we[0],Ce=we[1],ke=xe.canvasConfig.size,Ne=function(){var e=(0,j.Z)((function(e,t){return(0,y.__generator)(this,(function(n){switch(n.label){case 0:return[4,(0,B.Eu)(e,t)];case 1:return n.sent(),[2]}}))}));return function(t,n){return e.apply(this,arguments)}}();(0,v.useEffect)((function(){o&&be(o)}),[o]);(0,v.useEffect)((function(){var e;(null===(e=xe.canvasConfig.size)||void 0===e?void 0:e.width)&&!o&&function(){var e=s.createElement(J.xA.RECT,{id:J.Pl.BACKGROUND,x:0,y:0,width:xe.canvasConfig.size.width/xe.canvasConfig.scale,height:xe.canvasConfig.size.height/xe.canvasConfig.scale,fill:"transparent",draggable:!1,index:0});be((function(t){return(0,N.Z)((0,k.Z)({},t),{elements:(0,N.Z)((0,k.Z)({},t.elements),(0,C.Z)({},J.Pl.BACKGROUND,e))})}))}()}),[xe.canvasConfig,l,o]);(0,v.useEffect)((function(){if(Q){var e=URL.createObjectURL(Q),t=new Image;t.src=e,t.onload=function(){ge({width:t.width,height:t.height});var e=t.width/t.height;if(t.width>1280||t.height>1280){var n=Math.max(t.width,t.height);n===t.width&&de({width:1280,height:Math.round(1280/e)}),n===t.height&&de({width:Math.round(1280*e),height:1280})}else de({width:t.width,height:t.height})}}}),[Q]);var ye=function(){return ie(!1)},_e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-100,t=(0,v.useRef)(null);return(0,v.useEffect)((function(){var n=t.current.getBoundingClientRect().top+window.scrollY+e;window.scrollTo({top:n,behavior:"smooth"})}),[e]),t}(),Ze=O.Z.useContainer(),Ee=Ze.openOverlay,Re=Ze.closeOverlay,Pe=(0,g.Z)(),Ae=(0,f.Z)(d.t.RemoveBgEditor).t,Me=(0,f.Z)("editor").t,Ie=(0,v.useMemo)((function(){return[{title:Ae("tab.original"),icon:(0,r.jsx)(E,{className:"w-5"}),key:H.original,event:c.CU.REMOVE_BG_PREVIEW_VIEW_ORIGINAL},{title:Ae("tab.removed_bg"),icon:(0,r.jsx)(R,{className:"w-5"}),key:H.removeBG,event:c.CU.REMOVE_BG_PREVIEW_VIEW_REMOVED}]}),[Ae]),Le=(0,v.useMemo)((function(){return[{title:Ae("preview_item.photo"),key:z.background},{title:Ae("preview_item.color"),key:z.color}]}),[Ae]),Oe=function(){var e=(0,j.Z)((function(e){return(0,y.__generator)(this,(function(t){return be((function(t){var n,r,i,o,a,c,d=t.elements[J.Pl.BACKGROUND],u=s.updateElement(J.xA.RECT,null===d||void 0===d?void 0:d.props,{fill:e,x:0,y:0,width:(null===(n=xe.canvasConfig)||void 0===n||null===(r=n.size)||void 0===r?void 0:r.width)/(null===(i=xe.canvasConfig)||void 0===i?void 0:i.scale),height:(null===(o=xe.canvasConfig)||void 0===o||null===(a=o.size)||void 0===a?void 0:a.height)/(null===(c=xe.canvasConfig)||void 0===c?void 0:c.scale),draggable:!1}),h=(0,N.Z)((0,k.Z)({},t),{elements:(0,N.Z)((0,k.Z)({},t.elements),(0,C.Z)({},J.Pl.BACKGROUND,u))});return Ne(l,h),h})),Pe.event({action:c.CU.REMOVE_BG_PICK_COLOR,params:{color:e}}),[2]}))}));return function(t){return e.apply(this,arguments)}}(),Be=function(e){return function(){Oe(e)}},Ge=function(){var e=(0,j.Z)((function(){return(0,y.__generator)(this,(function(e){return We(c.MW),Pe.event({action:c.CU.REMOVE_BG_PREVIEW_DOWNLOAD_SD_FILE}),[2]}))}));return function(){return e.apply(this,arguments)}}(),Te=function(){var e=(0,j.Z)((function(){return(0,y.__generator)(this,(function(e){return X(),[2]}))}));return function(){return e.apply(this,arguments)}}();(0,v.useEffect)((function(){n&&(null===ke||void 0===ke?void 0:ke.width)&&(o?(0,j.Z)((function(){var e,t,r;return(0,y.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,4,5]),[4,(0,G._x)(n)];case 1:return e=i.sent(),[4,(0,G.hl)(e)];case 2:return t=i.sent(),Y(t),[3,5];case 3:return r=i.sent(),console.error("Error apply image",r),[3,5];case 4:return W(!1),[7];case 5:return[2]}}))}))():(0,j.Z)((function(){var e,t,r,i,o,a,c,d,u,h,g,f,m;return(0,y.__generator)(this,(function(v){switch(v.label){case 0:return v.trys.push([0,12,13,14]),[4,(0,G._x)(n)];case 1:return e=v.sent(),[4,(0,G.hl)(e)];case 2:return t=v.sent(),[4,(0,G.Qj)(t)];case 3:return r=v.sent(),(i=new FormData).append("input_image",r),W(!0),[4,(0,U._X)(i)];case 4:return(o=v.sent()).no_object?(Ee({type:S.j.SystemError,title:Me("modal.error.heading"),content:Me("modal.error.no_detect"),btnContent:Me("modal.error.button"),showBackdrop:!0,onClose:Re}),[3,11]):[3,5];case 5:return a=o.output,[4,(0,G.hl)(r)];case 6:return[4,G.Sj.apply(void 0,[v.sent(),(0,G.rq)(a,!0)])];case 7:return c=v.sent(),[4,(0,G.po)(c)];case 8:return d=v.sent(),u=ke.width/d.width,[4,(0,G.Km)(c)];case 9:return h=v.sent(),[4,(0,G.xJ)(h,{width:o.box[2],height:o.box[3]},{x:o.box[0],y:o.box[1]})];case 10:g=v.sent(),f=s.createElement(J.xA.IMAGE,{id:J.Pl.MAIN_IMAGE,x:o.box[0],y:o.box[1],width:o.box[2],height:o.box[3],image:g,draggable:!0,index:1}),be((function(e){var t=(0,N.Z)((0,k.Z)({},e),{canvasConfig:(0,N.Z)((0,k.Z)({},e.canvasConfig),{scale:u}),elements:(0,N.Z)((0,k.Z)({},e.elements),(0,C.Z)({},J.Pl.MAIN_IMAGE,f))});return Ne(l,t),t})),Y(t),v.label=11;case 11:return[3,14];case 12:return m=v.sent(),console.error("Error loading mask",m),[3,14];case 13:return W(!1),[7];case 14:return[2]}}))}))())}),[n,ke,o]),(0,v.useEffect)((function(){Pe.event({action:c.CU.REMOVE_BG_PREVIEW_MASKED_IMAGE})}),[]);var De=function(e,t){return function(){A(e),Pe.event({action:t})}},Ue=function(e){return function(){se(e)}},Se=function(e){return(0,j.Z)((function(){var t,n,r,i,o,a,c,d,h,g;return(0,y.__generator)(this,(function(f){switch(f.label){case 0:return ve(e),n=null===(t=u.find((function(t){return t.id===e})))||void 0===t?void 0:t.url,n?[4,(0,G.po)(n)]:[3,2];case 1:return i=f.sent(),[3,3];case 2:i=null,f.label=3;case 3:return r=i,o=xe.elements[J.Pl.BACKGROUND],a=(0,G.Ry)({width:xe.canvasConfig.size.width/xe.canvasConfig.scale,height:xe.canvasConfig.size.height/xe.canvasConfig.scale},{width:null===r||void 0===r?void 0:r.width,height:null===r||void 0===r?void 0:r.height}),c=a.position,d=a.size,h=s.updateElement(J.xA.IMAGE,null===o||void 0===o?void 0:o.props,{image:n||null,x:n?c.x:0,y:n?c.y:0,width:n?d.width:xe.canvasConfig.size.width/xe.canvasConfig.scale,height:n?d.height:xe.canvasConfig.size.height/xe.canvasConfig.scale,fill:"transparent",draggable:!0}),g=(0,N.Z)((0,k.Z)({},xe.elements),(0,C.Z)({},J.Pl.BACKGROUND,h)),be((function(e){var t=(0,N.Z)((0,k.Z)({},e),{elements:g});return Ne(l,t),t})),[2]}}))}))},Ke=function(){var e=(0,j.Z)((function(){var e,t,n,r,i,o,a,d,u;return(0,y.__generator)(this,(function(h){switch(h.label){case 0:return[4,(0,G.hf)(c.Gs)];case 1:return(e=h.sent())?[4,(0,G.sT)(e)]:[3,4];case 2:return t=h.sent(),[4,(0,G.po)(t)];case 3:n=h.sent(),r=xe.elements[J.Pl.BACKGROUND],i=(0,G.Ry)({width:xe.canvasConfig.size.width/xe.canvasConfig.scale,height:xe.canvasConfig.size.height/xe.canvasConfig.scale},{width:null===n||void 0===n?void 0:n.width,height:null===n||void 0===n?void 0:n.height}),o=i.position,a=i.size,d=s.updateElement(J.xA.IMAGE,null===r||void 0===r?void 0:r.props,{image:t,x:o.x,y:o.y,width:a.width,height:a.height,fill:"transparent",draggable:!0}),u=(0,N.Z)((0,k.Z)({},xe.elements),(0,C.Z)({},J.Pl.BACKGROUND,d)),be((function(e){var t=(0,N.Z)((0,k.Z)({},e),{elements:u});return Ne(l,t),t})),ve(null),h.label=4;case 4:return[2]}}))}));return function(){return e.apply(this,arguments)}}(),We=function(e){return Ce(e)};return(0,r.jsxs)("div",{ref:_e,className:a()(i?"block":"hidden","rounded-xl shadow-md border bg-white tlg:mt-[68px] w-full tlg:w-auto"),children:[(0,r.jsx)("div",{className:"flex justify-center tlg:mt-4 mt-2 w-full ",children:(0,r.jsx)("div",{className:"tlg:inline-flex w-auto rounded-[40px] bg-gray-200",children:Ie.map((function(e){var t=e.title,n=e.key,i=e.event,l=e.icon;return(0,r.jsxs)("div",{onClick:De(n,i),className:a()(x===n?"bg-black-1 text-white":"bg-gray-200","h-9 w-auto rounded-[40px] inline-flex justify-center items-center px-4 cursor-pointer"),children:[l,(0,r.jsx)(w.Z,{variant:"T14R",className:"ml-2",children:t})]},n)}))})}),(0,r.jsxs)("div",{className:"tlg:min-h-[350px] tlg:grid tlg:grid-cols-9 w-full ",children:[(0,r.jsxs)("div",{className:a()("tlg:col-span-6","flex justify-center items-center px-4 pt-2 pb-4 tlg:p-6 flex-col"),children:[D&&(0,r.jsx)(I.Z,{size:"32",className:"absolute text-blue-600"})," ",(0,r.jsx)("div",{className:a()(x!==H.original&&""),children:(0,r.jsx)("img",{onLoad:function(){o||be((function(e){return e.canvasConfig.size={width:$.current.clientWidth,height:$.current.clientHeight},JSON.parse(JSON.stringify(e))}))},ref:$,src:n,alt:"original image",className:"max-h-[410px]"})}),(0,r.jsx)("div",{className:a()("absolute z-10 color-picker-transparent",x!==H.removeBG&&"hidden"),children:(null===xe||void 0===xe||null===(t=xe.elements)||void 0===t?void 0:t[J.Pl.MAIN_IMAGE])&&(0,r.jsx)(te,{triggerDownload:je,triggerDownloadFunc:We,canvasConfig:null===xe||void 0===xe?void 0:xe.canvasConfig,elements:null===xe||void 0===xe?void 0:xe.elements,handleSelectElement:function(e){return be((function(t){return(0,N.Z)((0,k.Z)({},t),{selectedId:e})}))},selectedId:null===xe||void 0===xe?void 0:xe.selectedId,updateElementPosition:function(e,t){var n=null===xe||void 0===xe?void 0:xe.elements[e],r=s.updateElement(null===n||void 0===n?void 0:n.type,null===n||void 0===n?void 0:n.props,{x:t.x,y:t.y}),i=(0,N.Z)((0,k.Z)({},null===xe||void 0===xe?void 0:xe.elements),(0,C.Z)({},e,r));be((function(t){var n=(0,N.Z)((0,k.Z)({},t),{elements:i});return Ne(e,n),n}))},updateElementTransform:function(e,t){var n=t||{},r=n.x,i=n.y,o=n.width,a=n.height,c=n.scaleX,d=n.scaleY,u=n.rotation,h=xe.elements[e],g=s.updateElement(null===h||void 0===h?void 0:h.type,null===h||void 0===h?void 0:h.props,{x:r,y:i,width:o,height:a,scaleX:c,scaleY:d,rotation:u}),f=(0,N.Z)((0,k.Z)({},xe.elements),(0,C.Z)({},e,g));be((function(e){var t=(0,N.Z)((0,k.Z)({},e),{elements:f});return Ne(l,t),t}))}})})]}),(0,r.jsxs)("div",{className:a()(re&&"!hidden","tlg:col-span-3 tlg:flex tlg:flex-col","tlg:items-center tlg:justify-center tlg:pb-6"),children:[(0,r.jsxs)("div",{className:"tlg:mb-20",children:[(0,r.jsx)(w.Z,{variant:"H14B",className:"mb-2 hidden tlg:block",children:Ae("preview_item.select_color")}),(0,r.jsx)("div",{className:a()("hidden tlg:px-3 tlg:grid","tlg:grid-cols-6 tlg:gap-2 mb-5"),children:K.uY.map((function(e,t){var n,i,l,o,s,a,c=e===K.QK.Picker;return(0,r.jsx)("div",{className:"col-span-1",children:(0,r.jsx)(q,{onClick:Be(e),onPick:Be,value:e,isActive:c?!K.uY.includes(null===xe||void 0===xe||null===(n=xe.elements)||void 0===n||null===(i=n[J.Pl.BACKGROUND])||void 0===i||null===(l=i.props)||void 0===l?void 0:l.fill):e===(null===xe||void 0===xe||null===(o=xe.elements)||void 0===o||null===(s=o[J.Pl.BACKGROUND])||void 0===s||null===(a=s.props)||void 0===a?void 0:a.fill),isTransparent:e===K.QK.Transparent,isPicker:e===K.QK.Picker})},t)}))}),(0,r.jsx)("div",{className:"text-center mb-4 tlg:mb-0",children:(0,r.jsxs)("button",{disabled:!Q,onClick:function(){se(z.background),ie(!0)},className:a()("space-x-2 inline-flex mx-auto H16B text-blue-500","pb-1 border-b border-blue-500 border-dashed disabled:text-neutral-ink-400"),children:[(0,r.jsx)(Z,{}),(0,r.jsx)("span",{children:Ae("preview_item.edit_bg_cta")})]})})]}),(0,r.jsxs)("div",{className:a()("grid grid-cols-2 gap-3 tlg:block tlg:space-y-4","px-4 tlg:px-6 pb-4 tlg:pb-0 tlg:w-full"),children:[(0,r.jsx)(P.Z.Primary,{className:"!rounded-[40px] !bg-blue-200 !text-blue-600 tlg:!py-2 py-4",onClick:Ge,children:(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsxs)(w.Z,{variant:"H18B",className:"text-sm tlg:text-lg",children:[(0,r.jsx)(_,{className:"text-blue-600 w-4 mr-2"}),Ae("preview_item.download_cta")]}),ce&&(0,r.jsxs)(w.Z,{variant:"T12R",className:"hidden tlg:block",children:[null===ce||void 0===ce?void 0:ce.width,"x",null===ce||void 0===ce?void 0:ce.height,"px"]})]})}),(0,r.jsxs)(P.Z.Primary,{onClick:Te,className:"!rounded-[40px] !bg-gradient-to-r from-cyan-500 to-blue-500 !text-white relative !py-2",children:[(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsxs)(w.Z,{variant:"H18B",className:"text-sm tlg:text-lg",children:[(0,r.jsx)(_,{className:"text-white w-4 mr-2"}),Ae("preview_item.download_hd_cta")]}),he&&(0,r.jsxs)(w.Z,{variant:"T12R",className:"hidden tlg:block",children:[null===he||void 0===he?void 0:he.width,"x",null===he||void 0===he?void 0:he.height,"px"]})]}),(0,r.jsx)("div",{className:"text-black flex justify-center items-center absolute -top-3 right-4 w-10 h-5 !bg-gradient-to-r !from-[#FEA158] !to-[#FDC33C] rounded-[40px]",children:(0,r.jsx)(w.Z,{variant:"H12B",children:"PRO"})})]})]})]}),(0,r.jsx)("div",{className:a()(!re&&"!hidden","tlg:col-span-3 tlg:flex tlg:flex-col","tlg:items-center tlg:justify-center tlg:pb-6 w-full "),children:(0,r.jsxs)("div",{className:"h-full w-full tlg:pr-4",children:[(0,r.jsx)("div",{onClick:ye,className:"cursor-pointer w-10 h-10 bg-neutral-ink-100 rounded-full hidden tlg:flex justify-center items-center",children:(0,r.jsx)(b.d,{type:"arrow_left",color:"black"})}),(0,r.jsxs)("div",{className:"flex px-4 tlg:mt-4 tlg:px-0 justify-between",children:[(0,r.jsx)("div",{onClick:Se(null),className:"tlg:hidden h-8 px-3 rounded-[40px] cursor-pointer border border-neutral-ink-300 flex justify-center items-center",children:(0,r.jsx)(w.Z,{variant:"T16R",className:"tlg:text-base text-xs",children:Ae("preview_item.reset")})}),(0,r.jsx)("div",{className:"tlg:ml-0 inline-flex w-auto rounded-[40px] bg-gray-200",children:Le.map((function(e){var t=e.title,n=e.key;return(0,r.jsx)("div",{onClick:Ue(n),className:a()(oe===n?"bg-black-1 text-white":"bg-gray-200","tlg:h-9 h-auto w-auto rounded-[40px] text-xs tlg:text-md inline-flex justify-center items-center px-4 cursor-pointer"),children:t},n)}))}),(0,r.jsx)("div",{onClick:ye,className:"tlg:hidden h-8 px-3 text-white rounded-[100px] cursor-pointer bg-gradient-to-r from-cyan-500 to-blue-500 flex justify-center items-center",children:(0,r.jsx)(w.Z,{variant:"T16R",className:"tlg:text-base text-xs",children:Ae("preview_item.done")})})]}),(0,r.jsx)("div",{className:a()(oe!==z.color&&"hidden","px-3 grid","grid-cols-6 gap-2 mb-5 mt-4 tlg:w-[344px]"),children:K.uY.map((function(e,t){var n,i,l,o,s,a,c=e===K.QK.Picker;return(0,r.jsx)("div",{className:"col-span-1",children:(0,r.jsx)(q,{onClick:Be(e),onPick:Be,value:e,isActive:c?!K.uY.includes(null===xe||void 0===xe||null===(n=xe.elements)||void 0===n||null===(i=n[J.Pl.BACKGROUND])||void 0===i||null===(l=i.props)||void 0===l?void 0:l.fill):e===(null===xe||void 0===xe||null===(o=xe.elements)||void 0===o||null===(s=o[J.Pl.BACKGROUND])||void 0===s||null===(a=s.props)||void 0===a?void 0:a.fill),isTransparent:e===K.QK.Transparent,isPicker:e===K.QK.Picker})},t)}))}),(0,r.jsxs)("div",{className:a()(oe!==z.background&&"hidden","mb-3 tlg:mb-0"),children:[(0,r.jsxs)("div",{className:"w-full block tlg:hidden overflow-x-scroll hide-scrollbars",draggable:"false",children:[(0,r.jsxs)("div",{style:{width:"".concat(72*Math.ceil((u.length+2)/2),"px"),gridTemplateColumns:"repeat(".concat(Math.ceil((u.length+2)/2),", minmax(0, 1fr))")},className:"!tlg:w-full px-4 tlg:px-0 grid !tlg:grid-cols-4 gap-1 tlg:overflow-y-scroll hide-scrollbars mt-4 tlg:max-h-64 max-h-36",children:[(0,r.jsx)("div",{onClick:Se(null),className:a()(me?"border-neutral-ink-200":"border-blue-600","cursor-pointer rounded-md tlg:w-20 tlg:h-20 w-16 h-16 inline-flex tlg:flex justify-center items-center border-2"),style:{backgroundImage:"url('https://assets.remove-bg.ai/images/transparent.png')"}}),(0,r.jsxs)("div",{onClick:Ke,className:"cursor-pointer tlg:w-20 tlg:h-20 w-16 h-16 rounded-md inline-flex tlg:flex flex-col justify-center items-center border-2 border-neutral-ink-200 relative",children:[(0,r.jsx)(b.d,{type:"plus",color:"black",className:"absolute top-2 tlg:top-3 right-[33%] tlg:right-[35%]"}),(0,r.jsx)(w.Z,{variant:"T12R",className:"text-black absolute top-8 tlg:top-10 ",children:Ae("preview_item.upload")})]}),u.map((function(e){var t=e.id,n=e.thumbnailUrl;return(0,r.jsx)("div",{onClick:Se(t),className:a()(t===me?"border-blue-600":"border-neutral-ink-200","cursor-pointer rounded-md tlg:w-20 tlg:h-20 w-16 h-16 inline-flex tlg:flex justify-center items-center border-2"),children:(0,r.jsx)(M,{alt:"sample",src:n,className:"object-cover tlg:w-20 tlg:h-[76px] w-16 h-[60px] rounded-md border-2"})},t)}))]}),(0,r.jsxs)("div",{className:"hidden tlg:flex justify-center items-center mt-4 gap-2",children:[(0,r.jsx)("div",{onClick:Se(null),className:"w-40 h-12 rounded-[100px] cursor-pointer border border-neutral-ink-300 flex justify-center items-center",children:(0,r.jsx)(w.Z,{variant:"T16R",children:Ae("preview_item.reset")})}),(0,r.jsx)("div",{onClick:ye,className:"w-40 h-12 text-white rounded-[100px] cursor-pointer bg-gradient-to-r from-cyan-500 to-blue-500 flex justify-center items-center",children:(0,r.jsx)(w.Z,{variant:"T16R",children:Ae("preview_item.done")})})]})]}),(0,r.jsxs)("div",{className:"hidden tlg:block",children:[(0,r.jsxs)("div",{className:"tlg:w-full px-4 tlg:px-0 grid tlg:grid-cols-4 gap-2 tlg:overflow-y-scroll hide-scrollbars mt-4 tlg:max-h-[250px] max-h-36",children:[(0,r.jsx)("div",{onClick:Se(null),className:a()(me?"border-neutral-ink-200":"border-blue-600","cursor-pointer rounded-md tlg:w-20 tlg:h-20 w-16 h-16 inline-flex tlg:flex justify-center items-center border-2"),style:{backgroundImage:"url('https://assets.remove-bg.ai/images/transparent.png')"}}),(0,r.jsxs)("div",{onClick:Ke,className:"cursor-pointer tlg:w-20 tlg:h-20 w-16 h-16 rounded-md inline-flex tlg:flex flex-col justify-center items-center border-2 border-neutral-ink-200 relative",children:[(0,r.jsx)(b.d,{type:"plus",color:"black",className:"absolute top-2 tlg:top-3 right-[33%] tlg:right-[35%]"}),(0,r.jsx)(w.Z,{variant:"T12R",className:"text-black absolute top-8 tlg:top-10 ",children:Ae("preview_item.upload")})]}),u.map((function(e){var t=e.id,n=e.thumbnailUrl;return(0,r.jsx)("div",{onClick:Se(t),className:a()(t===me?"border-blue-600":"border-neutral-ink-200","cursor-pointer rounded-md tlg:w-20 tlg:h-20 w-16 h-16 inline-flex tlg:flex justify-center items-center border-2"),children:(0,r.jsx)(M,{alt:"sample",src:n,className:"object-cover tlg:w-20 tlg:h-[76px] w-16 h-[60px] rounded-md border-2"})},t)}))]}),(0,r.jsxs)("div",{className:"hidden tlg:flex justify-center items-center mt-4 gap-2",children:[(0,r.jsx)("div",{onClick:Se(null),className:"w-40 h-12 rounded-[100px] cursor-pointer border border-neutral-ink-300 flex justify-center items-center",children:(0,r.jsx)(w.Z,{variant:"T16R",children:Ae("preview_item.reset")})}),(0,r.jsx)("div",{onClick:ye,className:"w-40 h-12 text-white rounded-[100px] cursor-pointer bg-gradient-to-r from-cyan-500 to-blue-500 flex justify-center items-center",children:(0,r.jsx)(w.Z,{variant:"T16R",children:Ae("preview_item.done")})})]})]})]})]})})]})]})},re=n(85032),ie=n(38687),le=function(){var e=h.Z.useContainer(),t=e.previewFiles,n=e.handleRemovePreviewFile,i=e.onUpload,l=((0,f.Z)(d.t.RemoveBgHomePage).t,L.Z.useContainer().isPremium),o=(0,f.Z)(d.t.RemoveBgEditor).t,s=(0,ie.Z)().isMobile,j=(0,v.useState)(null),C=j[0],k=j[1],N=(0,g.Z)(),y=(0,m.useRouter)(),_="tr"===y.locale;(0,v.useEffect)((function(){N.pageview(c.CU.REMOVE_BG_PREVIEW_PAGE_LAUNCH),N.event({action:c.CU.REMOVE_BG_PREVIEW_PAGE_LAUNCH})}),[N]),(0,v.useEffect)((function(){var e;(null===t||void 0===t?void 0:t.length)?k(null===t||void 0===t||null===(e=t[0])||void 0===e?void 0:e.id):y.push(u._.removeBg)}),[t]);var Z=function(e){return function(){return k(e)}},E=function(){n(C)};return(0,r.jsxs)("div",{className:"mt-[64px] tlg:mt-0 relative",children:[s&&(0,r.jsx)(re.Z,{adSlotId:"2087624241",className:a()("header-ads",(_||l)&&"hidden"),hidden:_||l}),(0,r.jsxs)("div",{className:"h-screen w-full flex flex-col relative",children:[(0,r.jsxs)("div",{className:a()("order-1 w-full flex-auto tlg:order-0 tlg:pt-1 pt-0 bg-blue-50 flex","gap-2 justify-center tlg:justify-between items-start tlg:items-center"),children:[!s&&(0,r.jsx)("div",{children:(0,r.jsx)(re.Z,{adSlotId:"2087624241",className:a()("sidebar-ads tlg:mt-[68px]",(_||l)&&"hidden"),hidden:_||l})}),t.map((function(e){var t=e.image,n=e.id,i=e.config;return(0,r.jsx)(ne,{image:t,id:n,config:i,isShow:n===C},n)})),!s&&(0,r.jsx)("div",{children:(0,r.jsx)(re.Z,{adSlotId:"2087624241",className:a()("sidebar-ads tlg:mt-[68px]",(_||l)&&"hidden"),hidden:_||l})})]}),(0,r.jsxs)("div",{className:a()("tlg:h-[120px] h-20 py-2 tlg:shadow-none shadow-md tlg:py-0","order-0 tlg:order-1 justify-self-end bg-white tlg:px-24 px-4 grid grid-cols-12"),children:[(0,r.jsxs)("div",{onClick:i,className:"tlg:col-span-1 col-span-2 relative align-baseline tlg:mt-3 mt-1 tlg:w-[72px] tlg:h-[72px] w-14 h-14 cursor-pointer rounded-full bg-blue-200 inline-flex flex-col justify-center items-center",children:[(0,r.jsx)(b.d,{type:"plus",color:"inherit",className:"absolute top-2 mt-[2px] tlg:mt-0 tlg:top-3 right-[32%] tlg:right-[35%] text-blue-600"}),(0,r.jsx)(w.Z,{variant:"H12B",className:"text-blue-600 absolute top-8 tlg:top-10 hidden tlg:block",children:o("preview_item.upload")})]}),(0,r.jsx)("div",{className:"tlg:col-span-7 col-span-10 tlg:-ml-5 ml-1 w-full overflow-x-auto whitespace-nowrap overflow-y-hidden scrollbar-hidden",children:t.map((function(e){var t=e.image,n=e.id;return(0,r.jsxs)("div",{onClick:Z(n),className:a()(C===n&&"border-2 border-blue-600","tlg:mr-4 mr-1 align-baseline tlg:mt-3 mt-1 relative tlg:w-[72px] tlg:h-[72px] w-14 h-14 cursor-pointer rounded-full bg-blue-200 inline-flex flex-col justify-center items-center"),children:[(0,r.jsx)("div",{onClick:E,className:a()(C!==n&&"hidden","absolute w-full h-full z-10 flex justify-center items-center backdrop-brightness-50 rounded-full"),children:(0,r.jsx)(b.d,{type:"delete",size:"m",className:"text-white",color:"inherit"})}),(0,r.jsx)("img",{className:"w-full h-full object-cover rounded-full",alt:n,src:t})]},n)}))}),(0,r.jsxs)("div",{className:"hidden flex-auto tlg:flex gap-2 items-center justify-end mt-2 col-span-4",children:[(0,r.jsx)(w.Z,{variant:"H14B",children:o("preview_item.thank")}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(p.Z,{url:"https://remove-bg.ai",className:"",children:(0,r.jsxs)("div",{className:"flex gap-2 border border-neutral-ink-200 rounded-xl p-2 cursor-pointer",children:[(0,r.jsx)(b.d,{type:"twitter_social_icon",mode:"fill",color:"#58acec"})," ",o("preview_item.share")]})}),(0,r.jsx)(x.Z,{url:"https://remove-bg.ai",className:"",children:(0,r.jsxs)("div",{className:"flex gap-2 border border-neutral-ink-200 rounded-xl p-2 cursor-pointer",children:[(0,r.jsx)(b.d,{type:"facebook_social_icon",mode:"fill",color:"#405c9c"})," ",o("preview_item.share")]})})]})]})]})]})]})},oe=function(){var e=h.Z.useContainer(),t=e.onDropFile,n=e.getProjects,s=(0,f.Z)(d.t.RemoveBgHomePage).t;return(0,v.useEffect)((function(){n()}),[]),(0,r.jsxs)(l.Z,{meta:{title:s("meta.title"),description:s("meta.description")},children:[(0,r.jsx)(o.Z,{}),(0,r.jsx)(i.Z,{onDrop:t,children:(0,r.jsx)(le,{})})]})},se=!0,ae=function(){return(0,r.jsx)(oe,{})}}},function(e){e.O(0,[8240,8719,6513,6875,3341,2711,9774,2888,179],(function(){return t=57270,e(e.s=t);var t}));var t=e.O();_N_E=t}]);